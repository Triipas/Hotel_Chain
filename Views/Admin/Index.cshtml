<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StayGo - Panel de Administración</title>
    
    <!-- External Dependencies -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
    
    <!-- Admin Styles -->
    <link rel="stylesheet" href="~/admin/css/admin-styles.css">

</head>
<body>
    <div class="admin-layout">
        <!-- SIDEBAR -->
        <aside class="admin-sidebar">
            <div class="admin-logo">
                Stay<span>Go</span>
            </div>
            
            <nav class="admin-nav">
                <a href="#" onclick="navigateTo('dashboard')" class="active">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a>
                <a href="#" onclick="navigateTo('usuarios')">
                    <i class="fas fa-users"></i> Usuarios
                </a>
                <a href="#" onclick="navigateTo('hoteles')">
                    <i class="fas fa-hotel"></i> Hoteles
                </a>
                <a href="#" onclick="navigateTo('habitaciones')">
                    <i class="fas fa-bed"></i> Habitaciones
                </a>
                <a href="#" onclick="navigateTo('reservas')">
                    <i class="fas fa-calendar-check"></i> Reservas 
                </a>
                <a href="#" onclick="navigateTo('financiero')">
                    <i class="fas fa-dollar-sign"></i> Financiero
                </a>
                <a href="/" target="_blank">
                    <i class="fas fa-globe"></i> Ver Sitio Cliente
                </a>
            </nav>

            <div class="admin-user">
                <span>👤 @ViewBag.AdminName</span>
                <span style="font-size: 0.8rem; color: #7f8c8d;">@ViewBag.AdminPuesto</span>
                <a href="/admin/logout">Cerrar Sesión</a>
            </div>
        </aside>

        <!-- CONTENIDO PRINCIPAL -->
        <main class="admin-main">
            <!-- HEADER SUPERIOR -->
            <header class="admin-header">
                <div class="header-right">
                    <div class="user-info">
                        <div class="user-name">@ViewBag.AdminName</div>
                        <div class="user-role">@ViewBag.AdminPuesto</div>
                    </div>
                </div>
            </header>

            <!-- CONTENIDO CON SCROLL -->
            <div class="admin-content">
                <!-- ALERTAS GLOBALES -->
                <div id="alert-container"></div>
            
                <!-- CONTENIDO DINÁMICO -->
                <div id="app">
                    <div class="card">
                        <div class="card-body">
                            <div style="text-align: center; padding: 2rem;">
                                <div class="spinner"></div>
                                Cargando panel de administración...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para Crear/Editar Hotel -->
    <div id="hotelModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="hotelModalTitle">Crear Hotel</h2>
                <button class="close" onclick="HotelesModule.closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="hotelForm">
                    <input type="hidden" id="hotelId" name="hotelId">
                    
                    <div class="form-group">
                        <label for="nombre">Nombre del Hotel *</label>
                        <input type="text" id="nombre" name="nombre" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="direccion">Dirección *</label>
                        <input type="text" id="direccion" name="direccion" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="ciudad">Ciudad *</label>
                        <select id="ciudad" name="ciudad" required>
                            <option value="">Seleccionar ciudad</option>
                            <option value="Lima">Lima</option>
                            <option value="Cusco">Cusco</option>
                            <option value="Arequipa">Arequipa</option>
                            <option value="Trujillo">Trujillo</option>
                            <option value="Piura">Piura</option>
                            <option value="Iquitos">Iquitos</option>
                            <option value="Huancayo">Huancayo</option>
                            <option value="Tacna">Tacna</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="descripcion">Descripción</label>
                        <textarea id="descripcion" name="descripcion" placeholder="Describe las características del hotel..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="telefonoContacto">Teléfono de Contacto</label>
                        <input type="tel" id="telefonoContacto" name="telefonoContacto" placeholder="Ej: +51 999 999 999">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="HotelesModule.closeModal()">Cancelar</button>
                <button type="button" class="btn btn-success" onclick="HotelesModule.save()" id="saveHotelBtn">
                    <span id="saveHotelText">Guardar</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para Crear/Editar Habitación -->
    <div id="habitacionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="habitacionModalTitle">Crear Habitación</h2>
                <button class="close" onclick="HabitacionesModule.closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="habitacionForm">
                    <input type="hidden" id="habitacionId" name="habitacionId">
                    
                    <div class="form-group">
                        <label for="habitacionHotelId">Hotel *</label>
                        <select id="habitacionHotelId" name="hotelId" required>
                            <option value="">Seleccionar hotel</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="numeroHabitacion">Número de Habitación *</label>
                        <input type="text" id="numeroHabitacion" name="numeroHabitacion" required placeholder="Ej: 101, A-205, Suite Premium">
                    </div>
                    
                    <div class="form-group">
                        <label for="tipo">Tipo de Habitación *</label>
                        <select id="tipo" name="tipo" required>
                            <option value="">Seleccionar tipo</option>
                            <option value="simple">Simple</option>
                            <option value="doble">Doble</option>
                            <option value="suite">Suite</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="capacidad">Capacidad (personas) *</label>
                        <input type="number" id="capacidad" name="capacidad" required min="1" max="10" placeholder="Ej: 2">
                    </div>
                    
                    <div class="form-group">
                        <label for="precioNoche">Precio por Noche (S/) *</label>
                        <input type="number" id="precioNoche" name="precioNoche" required min="0" step="0.01" placeholder="Ej: 150.00">
                    </div>
                    
                    <div class="form-group">
                        <label for="descripcionHab">Descripción</label>
                        <textarea id="descripcionHab" name="descripcionHab" placeholder="Describe las características de la habitación..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="disponible" name="disponible" checked>
                            Habitación disponible
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="HabitacionesModule.closeModal()">Cancelar</button>
                <button type="button" class="btn btn-success" onclick="HabitacionesModule.save()" id="saveHabitacionBtn">
                    <span id="saveHabitacionText">Guardar</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Admin JavaScript Modules -->
    <script src="~/admin/js/admin-app.js"></script>
    <script src="~/admin/js/admin-hotels.js"></script>
    <script src="~/admin/js/admin-rooms.js"></script>
    <script src="~/admin/js/admin-users.js"></script>
</body>
</html>